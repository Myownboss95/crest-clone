import{h,s as x,a as d,b as p,d as l,e as o,w as g,u as t,i as _,F as f,r as B,B as P,D as C,g as U}from"./main.2ec1ac8a.js";import{b as $}from"./breadcrumb.3cbbe6fe.js";import{_ as m}from"./FormGroup.a50f965d.js";import{_ as F}from"./FormSelect.86406c0e.js";import{_ as c}from"./FormButton.62df0933.js";import{_ as w}from"./ButtonLoader.75e5e296.js";import{_ as M}from"./InputGroup.58c5ece1.js";import"./FormLabel.880193f6.js";import"./FormInput.2f97439c.js";import"./error.51fe4e46.js";const T={class:"col-lg-5 m-auto"},N={class:"card"},y={class:"card-body"},D=["onSubmit"],S=o("hr",null,null,-1),k={class:"d-flex justify-content-between"},A=o("h5",null,"Plan Features",-1),H=o("i",{class:"fa fa-plus"},null,-1),j=U(" Add "),q=o("hr",null,null,-1),W={name:"create",setup(E){const e=h({name:"",tenure:"",min_investment:"",max_investment:"",bonus:"",demo:0,features:[]}),b=()=>e.features.push(""),V=r=>e.features=e.features.filter((n,u)=>e.features[r]!=u),v=r=>{if(!e.features.length)return P("At least a plan feature is required");e.post(route("admin.plans.store"))};return(r,n)=>{const u=x("Head");return d(),p(f,null,[l(u,{title:"Create Plan"}),l($,{title:"Create Plan",crumbs:["Dashboard","Settings","Plans","Create"]}),o("div",T,[o("div",N,[o("div",y,[o("form",{onSubmit:g(v,["prevent"])},[l(m,{name:"name",placeholder:"Plan name",label:"Plan name",modelValue:t(e).name,"onUpdate:modelValue":n[0]||(n[0]=a=>t(e).name=a)},null,8,["modelValue"]),l(m,{name:"tenure",placeholder:"Trade Tenure in days",label:"Trade Tenure",modelValue:t(e).tenure,"onUpdate:modelValue":n[1]||(n[1]=a=>t(e).tenure=a)},null,8,["modelValue"]),l(m,{name:"bonus",placeholder:"Bonus eg. 25",label:"Bonus",modelValue:t(e).bonus,"onUpdate:modelValue":n[2]||(n[2]=a=>t(e).bonus=a)},null,8,["modelValue"]),l(F,{id:"demo",name:"demo",label:"Demo Plan",options:{1:"Yes",0:"No"},modelValue:t(e).demo,"onUpdate:modelValue":n[3]||(n[3]=a=>t(e).demo=a)},null,8,["modelValue"]),l(m,{name:"min_investment",placeholder:"Minimum investment",label:"Minimum investment",modelValue:t(e).min_investment,"onUpdate:modelValue":n[4]||(n[4]=a=>t(e).min_investment=a)},null,8,["modelValue"]),l(m,{name:"max_investment",placeholder:"Maximum investment",label:"Maximum investment",modelValue:t(e).max_investment,"onUpdate:modelValue":n[5]||(n[5]=a=>t(e).max_investment=a)},null,8,["modelValue"]),S,o("div",k,[A,l(c,{class:"btn btn-outline-primary btn-sm",onButtonClicked:b},{default:_(()=>[H,j]),_:1})]),o("div",null,[(d(!0),p(f,null,B(t(e).features,(a,s)=>(d(),C(M,{placeholder:`Plan feature ${s+1}`,class:"my-2",name:`features.${s}`,icon:"fa fa-times",onButtonClicked:i=>V(s),modelValue:t(e).features[s],"onUpdate:modelValue":i=>t(e).features[s]=i},null,8,["placeholder","name","onButtonClicked","modelValue","onUpdate:modelValue"]))),256))]),q,l(c,{type:"submit",class:"w-100 btn btn-outline-primary",disabled:t(e).processing},{default:_(()=>[l(w,{text:"Create Plan",loading:t(e).processing},null,8,["loading"])]),_:1},8,["disabled"])],40,D)])])])],64)}}};export{W as default};
