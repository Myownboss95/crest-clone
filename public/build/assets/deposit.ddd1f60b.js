import{b as v}from"./breadcrumb.af1b015e.js";import{i as y,s as b,z as g,r as w,a as n,b as l,d,e as t,F as _,g as x,u as o,w as V,t as p,h as k,p as B,A as C}from"./main.a4388b13.js";import{_ as D}from"./FormGroup.4594be7e.js";import{_ as $}from"./FormSelect.28502935.js";import{_ as A}from"./FormButton.1c8871a2.js";import{_ as F}from"./ButtonLoader.399048fd.js";import"./FormLabel.115ae360.js";import"./FormInput.7b1a5695.js";import"./error.e7db4921.js";const N={class:"card radius-20 col-lg-7 mx-auto"},z={class:"card-body"},H={class:"row align-items-center py-3"},M={class:"col-md-5 border-end"},R={class:"row"},S=["onClick"],U={class:"border p-4 w-100"},q={class:"col-md-7"},E={class:"px-3"},L={key:0},P={key:1,class:"text-center"},T={class:"placeholder"},Y=["src"],j={class:"mt-3"},G=k("Send equivalent of "),se={name:"deposit",props:{payment_methods:Array,validated:{type:Boolean,default:!1}},setup(u){const r=u,e=y({method_id:"",amount:"",pay_with:"main"}),c=b({}),h=i=>{r.validated?C("You cannot change method now. Refresh page."):e.method_id=i};g(()=>e.method_id,i=>{let a=r.payment_methods.filter((m,s)=>m.id==i);c.value=a[0]});const f=()=>{e.post(route("user.deposits.validate"))};return(i,a)=>{const m=w("Head");return n(),l(_,null,[d(m,{title:"Deposit"}),d(v,{title:"Deposit",crumbs:["Dashboard","Deposits","Deposit"]}),t("div",N,[t("div",z,[t("div",H,[t("div",M,[t("div",R,[(n(!0),l(_,null,x(r.payment_methods,(s,I)=>(n(),l("div",{class:B(["col-6 text-center mt-2",{selected:o(e).method_id==s.id}]),onClick:J=>h(s.id)},[t("div",U,[t("h6",null,p(s.name),1)])],10,S))),256))])]),t("div",q,[t("div",E,[r.validated?(n(),l("div",P,[t("div",T,[t("img",{src:`/storage/payment_methods/${c.value.image}`,alt:""},null,8,Y)]),t("p",j,[G,t("strong",null,p(i.format_money(o(e).amount)),1)])])):(n(),l("form",L,[d($,{disabled:o(e).method_id=="",class:"mb-3",name:"pay_with",label:"Pay with",options:{main:"Main Balance",referral:"Referral Balance"},modelValue:o(e).pay_with,"onUpdate:modelValue":a[0]||(a[0]=s=>o(e).pay_with=s)},null,8,["disabled","modelValue"]),d(D,{disabled:o(e).method_id=="",name:"amount",placeholder:"Amount",label:"Amount",modelValue:o(e).amount,"onUpdate:modelValue":a[1]||(a[1]=s=>o(e).amount=s)},null,8,["disabled","modelValue"]),d(A,{disabled:o(e).method_id=="",class:"btn btn-outline-primary",onButtonClicked:f},{default:V(()=>[d(F,{text:"Continue",loading:o(e).processing},null,8,["loading"])]),_:1},8,["disabled"])]))])])])])])],64)}}};export{se as default};
